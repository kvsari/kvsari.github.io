(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,r){"use strict";r.r(e);var n=r(2);const u=(t,e,r)=>{t.beginPath(),t.fillStyle=e,t.arc(r.x(),r.y(),r.radius(),0,2*Math.PI),t.fill()},c=(t,e,r,c,o,i,a)=>{var l=n.a.new(c,o,i);if(t.beginPath(),t.fillStyle=e,t.strokeStyle=r,t.rect(l.x(),l.y(),l.width(),l.height()),t.fill(),t.stroke(),1==a){var s=l.dot(n.c.Center);u(t,r,s)}if(2==a){var p=l.dot(n.c.TopLeft),d=l.dot(n.c.BottomRight);u(t,r,p),u(t,r,d)}if(3==a){p=l.dot(n.c.TopLeft),d=l.dot(n.c.Center);var f=l.dot(n.c.BottomRight);u(t,r,p),u(t,r,d),u(t,r,f)}if(4==a){p=l.dot(n.c.TopLeft),d=l.dot(n.c.TopRight),f=l.dot(n.c.BottomLeft);var h=l.dot(n.c.BottomRight);u(t,r,p),u(t,r,d),u(t,r,f),u(t,r,h)}if(5==a){p=l.dot(n.c.TopLeft),d=l.dot(n.c.TopRight),f=l.dot(n.c.BottomLeft),h=l.dot(n.c.BottomRight);var _=l.dot(n.c.Center);u(t,r,p),u(t,r,d),u(t,r,f),u(t,r,h),u(t,r,_)}},o=(t,e,r,u,o,i)=>{if(i>0){var a=n.c.TopLeft;c(t,e,r,u,o,a,1)}if(i>1){a=n.c.TopRight;c(t,e,r,u,o,a,2)}if(i>2){a=n.c.BottomLeft;c(t,e,r,u,o,a,3)}if(i>3){a=n.c.BottomRight;c(t,e,r,u,o,a,4)}if(i>4){a=n.c.Center;c(t,e,r,u,o,a,5)}},i=(t,e)=>{t.beginPath();var r=(t=>{switch(t){case 0:return"black";case 1:return"white";case 2:return"lightblue";case 3:return"blue";case 4:return"darkblue";case 5:return"lightgreen";case 6:return"green";case 7:return"darkgreen";case 8:return"lightred";case 9:return"red";case 10:return"darkred";case 11:return"lightbrown";case 12:return"brown";case 13:return"darkbrown";case 14:return"lightyellow";case 15:return"yellow";case 16:return"orange";case 17:return"mediumpurple";case 18:return"purple";case 19:return"rebeccapurple";default:return"silver"}})(e.colour());t.fillStyle=r,t.strokeStyle="black";let n=e.point(0);t.moveTo(n.x(),n.y());for(var u=1;u<6;++u){let r=e.point(u);t.lineTo(r.x(),r.y())}t.lineTo(n.x(),n.y()),t.fill(),t.stroke()},a=(t,e,r,n)=>{let u=n.len();for(var c=0;c<u;++c){let u=n.hex(c);i(t,u),o(t,e,r,u.center(),n.radius(),u.dice())}},l=t=>{switch(t){case"human":return 1;case"ai":return 2;default:return 0}};n.u();const s=n.b.new(800/6.3,800/6.3),p=document.getElementById("dice-board");p.height=800,p.width=800;const d=p.getContext("2d");var f=n.t(s,800/6.3);const h=(t,e,r,n)=>{document.getElementById("play-status").innerText=n?"AI Player"+t+". Moves Left: "+e+". Captured Dice: "+r:"Current: Player"+t+". Moves Left: "+e+". Captured Dice: "+r},_=t=>{let e=document.createElement("br"),r=document.createElement("p"),n=document.createTextNode(t);r.appendChild(n);let u=document.getElementById("battle-heading"),c=u.parentNode;c.insertBefore(n,u.nextSibling),c.insertBefore(e,u.nextSibling)},w=t=>{let e=t.split("\n");for(var r in e)_(e[r])},g=()=>{for(;f.advance();){let t=f.state_log(),e=f.current_player_id(),r=f.current_player_moves_left(),n=f.current_player_dice_captured(),u=f.current_player_ai();h(e,r,n,u),a(d,"white","black",f.tessellation()),w(t),setTimeout(function(){},1e3)}};document.getElementById("play").addEventListener("click",t=>{var e=document.getElementById("board-size").value,r=document.getElementById("player1").value,u=document.getElementById("player2").value,c=document.getElementById("player3").value,o=document.getElementById("player4").value,i=document.getElementById("turns").value,s=document.getElementById("horizon").value;let w=((t,e)=>{switch(t){case"2x2":{let t=e/4.5;return[n.b.new(t,t),t,2]}case"3x3":{let t=e/6.3;return[n.b.new(t,t),t,3]}case"4x4":{let t=e/8;return[n.b.new(t,t),t,4]}case"5x5":{let t=e/10;return[n.b.new(t,t),t,5]}case"6x6":{let t=e/12;return[n.b.new(t,t),t,6]}case"7x7":{let t=e/14;return[n.b.new(t,t),t,7]}case"8x8":{let t=e/16;return[n.b.new(t,t),t,8]}default:{let t=e/16;return[n.b.new(t,t),t,2]}}})(e,p.height,p.width),y=w[0],b=w[1],m=w[2],v=(f=n.v(m,y,b,parseInt(i),l(r),l(u),l(c),l(o),parseInt(s))).current_player_id(),x=f.current_player_moves_left(),B=f.current_player_dice_captured(),k=f.current_player_ai();h(v,x,B,k),d.clearRect(0,0,p.width,p.height),a(d,"white","black",f.tessellation()),_("New game starting!"),g()}),p.addEventListener("click",t=>{const e=p.getBoundingClientRect(),r=t.clientX-e.left,u=t.clientY-e.top;var c=f.tessellation().start_hex_center(),o=n.b.new(r-c.x(),u-c.y());if(f.select_hex_with_pixel(o)){let t=f.state_log();w(t)}let i=f.current_player_id(),l=f.current_player_moves_left(),s=f.current_player_dice_captured();h(i,l,s),a(d,"white","black",f.tessellation()),g()}),a(d,"white","black",f.tessellation())},function(t,e,r){"use strict";r.d(e,"c",function(){return p}),r.d(e,"i",function(){return d}),r.d(e,"u",function(){return f}),r.d(e,"t",function(){return h}),r.d(e,"v",function(){return _}),r.d(e,"f",function(){return w}),r.d(e,"k",function(){return m}),r.d(e,"o",function(){return E}),r.d(e,"j",function(){return L}),r.d(e,"d",function(){return T}),r.d(e,"n",function(){return R}),r.d(e,"e",function(){return I}),r.d(e,"g",function(){return C}),r.d(e,"h",function(){return D}),r.d(e,"m",function(){return P}),r.d(e,"l",function(){return j}),r.d(e,"p",function(){return S}),r.d(e,"q",function(){return M}),r.d(e,"s",function(){return N}),r.d(e,"a",function(){return V}),r.d(e,"b",function(){return F}),r.d(e,"r",function(){return Y});var n=r(3);let u=new TextDecoder("utf-8"),c=null;function o(){return null!==c&&c.buffer===n.V.buffer||(c=new Uint8Array(n.V.buffer)),c}function i(t,e){return u.decode(o().subarray(t,t+e))}let a=null;let l=null;function s(){return null!==l&&l.buffer===n.V.buffer||(l=new Uint32Array(n.V.buffer)),l}const p=Object.freeze({TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,Center:4});function d(t,e){let r=i(t,e);console.log(r)}function f(){return n.U()}function h(t,e){const r=t.ptr;return t.ptr=0,z.__wrap(n.L(r,e))}function _(t,e,r,u,c,o,i,a,l){const s=e.ptr;return e.ptr=0,z.__wrap(n.ab(t,s,r,u,c,o,i,a,l))}Object.freeze({Black:0,White:1,LightBlue:2,Blue:3,DarkBlue:4,LightGreen:5,Green:6,DarkGreen:7,LightRed:8,Red:9,DarkRed:10,LightBrown:11,Brown:12,DarkBrown:13,LightYellow:14,Yellow:15,Orange:16,MediumPurple:17,Purple:18,RebeccaPurple:19});function w(t,e){let r=i(t,e);r=r.slice(),n.o(t,1*e),console.error(r)}const g=new Array(32);g.fill(void 0),g.push(void 0,null,!0,!1);let y=g.length;function b(t){y===g.length&&g.push(g.length+1);const e=y;return y=g[e],g[e]=t,e}function m(){return b(new Error)}function v(t){return g[t]}let x,B=new TextEncoder("utf-8"),k=0;function E(t,e){const r=x(v(e).stack),n=k,u=s();u[t/4]=r,u[t/4+1]=n}function L(t,e){let r=i(t,e);return b(new Function(r))}function T(t,e){return b(v(t).call(v(e)))}function R(t){return b(v(t).self)}function I(t){return b(v(t).crypto)}function C(t){return b(v(t).getRandomValues)}function O(t,e){return o().subarray(t/1,t/1+e)}function D(t,e,r){let n=O(e,r);v(t).getRandomValues(n)}function P(t,e){let n=i(t,e);return b(r(4)(n))}function j(t,e,r){let n=O(e,r);v(t).randomFillSync(n)}function S(t){return void 0===v(t)?1:0}function M(t,e){return v(t)===v(e)?1:0}function N(t,e){throw new Error(i(t,e))}x="function"==typeof B.encodeInto?function(t){let e=t.length,r=n.q(e),u=0;for(;;){const c=o().subarray(r+u,r+e),{read:i,written:a}=B.encodeInto(t,c);if(u+=a,0===(t=t.substring(i)).length)break;r=n.r(r,e,2*e),e*=2}return k=u,r}:function(t){const e=B.encode(t),r=n.q(e.length);return o().set(e,r),k=e.length,r};class V{static __wrap(t){const e=Object.create(V.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){n.c(t)}(t)}static new(t,e,r){return V.__wrap(n.E(t.ptr,e,r))}x(){return n.G(this.ptr)}y(){return n.H(this.ptr)}width(){return n.F(this.ptr)}height(){return n.D(this.ptr)}dot(t){return G.__wrap(n.C(this.ptr,t))}}class z{static __wrap(t){const e=Object.create(z.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){n.e(t)}(t)}tessellation(){return U.__wrap(n.T(this.ptr))}select_hex_with_pixel(t){const e=t.ptr;return t.ptr=0,0!==n.R(this.ptr,e)}current_player_ai(){return 0!==n.N(this.ptr)}current_player_id(){return n.P(this.ptr)}current_player_moves_left(){return n.Q(this.ptr)}current_player_dice_captured(){return n.O(this.ptr)}state_log(){const t=(null===a&&(a=n.p()),a);n.S(t,this.ptr);const e=s(),r=e[t/4],u=e[t/4+1],c=i(r,u).slice();return n.o(r,1*u),c}advance(){return 0!==n.M(this.ptr)}}class A{static __wrap(t){const e=Object.create(A.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){n.b(t)}(t)}center(){return F.__wrap(n.s(this.ptr))}set_safe(){return n.y(this.ptr)}set_attacking(){return n.x(this.ptr)}set_threatened(){return n.z(this.ptr)}point(t){return F.__wrap(n.v(this.ptr,t))}selected_colour(){return n.w(this.ptr)}unselected_colour(){return n.B(this.ptr)}threatened_colour(){return n.A(this.ptr)}colour(){return n.t(this.ptr)}dice(){return n.u(this.ptr)}}class U{static __wrap(t){const e=Object.create(U.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){n.n(t)}(t)}hex(t){return A.__wrap(n.bb(this.ptr,t))}len(){return n.cb(this.ptr)}radius(){return n.db(this.ptr)}start_hex_center(){return F.__wrap(n.eb(this.ptr))}}class F{static __wrap(t){const e=Object.create(F.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){n.i(t)}(t)}static new(t,e){return F.__wrap(n.W(t,e))}x(){return n.X(this.ptr)}y(){return n.Y(this.ptr)}}class G{static __wrap(t){const e=Object.create(G.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){n.d(t)}(t)}x(){return n.J(this.ptr)}y(){return n.K(this.ptr)}radius(){return n.I(this.ptr)}}function Y(t){var e;(e=t)<36||(g[e]=y,y=e)}},function(t,e,r){"use strict";var n=r.w[t.i];t.exports=n;r(2);n.fb()},function(t,e){function r(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id=4}]]);